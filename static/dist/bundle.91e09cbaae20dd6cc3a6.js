"use strict";(self.webpackChunkdepot=self.webpackChunkdepot||[]).push([[444],{8444:function(e,t,l){l.r(t);var n=l(6540),a=l(1083);t.default=()=>{const[e,t]=(0,n.useState)([]),[l,c]=(0,n.useState)({new:!0,inProgress:!0,completed:!0});(0,n.useEffect)((()=>{(async()=>{try{const e=await a.A.get("/api/tickets");t(e.data)}catch(e){console.error("Error fetching tickets:",e)}})()}),[]);const s=e=>{c((t=>({...t,[e]:!t[e]})))},r=e.filter((e=>!("Новое"!==e.status||!l.new)||!("В работе"!==e.status||!l.inProgress)||!("Завершено"!==e.status||!l.completed)));return n.createElement("div",{className:"tickets"},n.createElement("div",{className:"tickets__header"},n.createElement("h2",null,"Ваши обращения"),n.createElement("div",{className:"tickets__filters"},n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:l.new,onChange:()=>s("new")}),"Новые"),n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:l.inProgress,onChange:()=>s("inProgress")}),"В работе"),n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:l.completed,onChange:()=>s("completed")}),"Завершенные")),n.createElement("div",{className:"tickets__summary"},n.createElement("div",null,"Новых ",n.createElement("span",null,e.filter((e=>"Новое"===e.status)).length)),n.createElement("div",null,"В работе ",n.createElement("span",null,e.filter((e=>"В работе"===e.status)).length)),n.createElement("div",null,"Завершено ",n.createElement("span",null,e.filter((e=>"Завершено"===e.status)).length)),n.createElement("div",null,"Всего ",n.createElement("span",null,e.length)))),n.createElement("div",{className:"tickets__list"},r.map(((e,t)=>n.createElement("div",{key:t,className:`ticket-card ${e.status}`},n.createElement("div",{className:"ticket-status"},e.status),n.createElement("div",{className:"ticket-info"},n.createElement("p",null,"TG Id: ",e.tgId),n.createElement("p",null,"ИНН: ",e.inn),n.createElement("p",null,"Литер: ",e.liter),n.createElement("p",null,"Место: ",e.place),n.createElement("p",null,"Дата: ",e.date)))))))}}}]);