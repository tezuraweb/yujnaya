"use strict";(self.webpackChunkdepot=self.webpackChunkdepot||[]).push([[18],{8018:function(e,a,t){t.r(a);var l=t(6540),s=t(1083);a.default=()=>{const[e,a]=(0,l.useState)(""),[t,r]=(0,l.useState)(""),[n,m]=(0,l.useState)(null);return l.createElement("div",{className:"page__login"},l.createElement("h1",{className:"page__login--title"},"Авторизация"),l.createElement("form",{className:"form form--auth",onSubmit:async a=>{if(a.preventDefault(),m(null),(e=>/\S+@\S+\.\S+/.test(e))(e)||(e=>/^\d+$/.test(e))(e))try{const a=await s.A.post("/api/login",{login:e.trim(),password:t},{withCredentials:!0,headers:{"Content-Type":"application/json"}});a.data.success?window.location.href="/backoffice/profile":m(a.data.message)}catch(e){m("Ошибка входа. Проверьте ваши данные.")}else m("Введите корректный Email или ИНН.")}},l.createElement("div",{className:"form__group"},l.createElement("label",{className:"form__label"},"Email или ИНН"),l.createElement("input",{type:"text",name:"login",className:"form__input",placeholder:"Email или ИНН",value:e,onChange:e=>a(e.target.value),required:!0})),l.createElement("div",{className:"form__group"},l.createElement("label",{className:"form__label"},"Пароль"),l.createElement("input",{type:"password",name:"password",className:"form__input",placeholder:"Введите пароль",value:t,onChange:e=>r(e.target.value),required:!0})),l.createElement("button",{type:"submit",className:"form__button button button--large"},"Войти"),l.createElement("div",{className:"form__group form__group--inline"},l.createElement("a",{href:"/auth/signup",className:"form__link button"},"Регистрация"),l.createElement("a",{href:"/auth/password-reset",className:"form__link button"},"Сброс пароля")),n&&l.createElement("div",{className:"form__message form__message--red"},n)))}}}]);